<%- include('partials/header') -%>

    <% if (locals.messages.success) { %> 
      <% messages.success.forEach( el => { %>
        <div class="alert alert-info"><%= el.msg %></div>
      <% }) %> 
    <% } %>

    <% if (!isLoggedIn) { %>
      <div class="container">
        <ul class="row justify-content-around mt-5">
          <a href="/login" class="col-3 btn btn-outline-success">Login</a>
          <a href="/signup" class="col-3 btn btn-outline-info">Register</a>
        </ul>
        <% } else { %>
          <p></p>
      </div>
      <div id="carouselExampleCaptions" class="carousel slide carousel-fade" data-bs-ride="false">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
            aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
            aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
            aria-label="Slide 3"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3"
            aria-label="Slide 3"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="4"
            aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
          <% for( let i=0; i < recipes.length; i++ ) { %>
            <% if (i===0) { %>
              <div class="carousel-item active">
                <% } else { %>
                  <div class="carousel-item">
                    <% } %>
                      <a href="/recipes/recipe/<%= recipes[i]._id %>"> <img src="<%=recipes[i].image%>"
                          class="carousel-image d-block w-100" alt="image representing <%=recipes[i].title%>"></a>
                      <div class="carousel-caption d-none d-md-block">
                        <h5>
                          <%=recipes[i].title%>
                        </h5>
                      </div>
                  </div>
                  <% } %>

              </div>
              <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
                data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
              </button>
        </div>
        <% } %>


          <%- include('partials/footer') -%>